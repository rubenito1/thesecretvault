<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Panel â€“ The Secret Vault</title>
<link rel="stylesheet" href="style.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
</head>
<body>
<div id="content">Cargando panel...</div>

<script>
const key = localStorage.getItem("vault_key");
const file = localStorage.getItem("vault_file");

if(!key || !file) window.location.href="index.html";

fetch(file)
.then(r => r.text())
.then(enc => {
  enc = enc.trim();
  let decrypted = "";
  try { decrypted = CryptoJS.AES.decrypt(enc, key).toString(CryptoJS.enc.Utf8); } catch {}

  if(!decrypted || decrypted.length < 5) {
    document.getElementById("content").innerHTML = "<h2>Acceso denegado</h2>";
    return;
  }

  document.getElementById("content").innerHTML = decrypted;
});
</script>
</body>
</html>
